---
const {
  color = 'primary',
  class: className, // Renamed this to avoid keyword conflict
  showExternalIcon = false,
} = Astro.props

import extIcon from '@graphics/Icons/external-link.svg?raw'
---

<button class:list={[color, className]}>
  <slot />
  <slot name="icon" />
  {showExternalIcon && <div class="ext-icon" set:html={extIcon} />}
</button>

<style>
  button {
    font-family: var(--font-body);
    font-size: var(--font-02);
    font-weight: var(--font-weight-semibold);
    color: var(--button-text);
    border-radius: var(--br-01);
    padding-block: var(--sp-03);
    padding-inline: var(--sp-06);
    border: none;
    line-height: 1;
    letter-spacing: 0.02rem;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: var(--sp-02);
  }

  button:hover {
    cursor: pointer;
  }

  .primary {
    background-color: var(--button-primary);
    box-shadow: var(--button-primary-shadow);
    transition: all 250ms ease-out;
  }
  .primary:hover {
    background-color: var(--button-primary__hover);
  }

  .secondary {
    background-color: var(--button-secondary);
    box-shadow: var(--button-secondary-shadow);
    transition: all 250ms ease-out;
  }
  .secondary:hover {
    background-color: var(--button-secondary__hover);
  }
</style>
